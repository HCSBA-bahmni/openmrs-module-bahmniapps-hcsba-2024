<div data-ng-controller="editTagsController" class="modern-modal-wrapper" aria-labelledby="dialog-label">
    <div class="modern-modal">
        <div class="modern-modal-header">
            <h4>{{'BED_TAGGING_KEY' | translate}}</h4>
            <span class="modern-modal-close ngdialog-close"></span>
        </div>

        <div class="modern-modal-body">
            <div class="modern-modal-section">
                <p><strong>{{'BED_KEY' | translate}}:</strong> {{$root.selectedBedInfo.bed.bedNumber}}</p>
                <p><strong>{{'LOCATION_KEY' | translate}}:</strong> {{$root.selectedBedInfo.roomName}}</p>
                <p><strong>{{'DEPT_KEY' | translate}}:</strong> {{ward.name}}</p>
            </div>

            <div class="modern-modal-section">
                <label style="display: block; margin-bottom: 0.5rem;">{{'AVAILABLE_TAGS' | translate}}</label>
                <div class="modern-tags-button-container">
                    <button ng-repeat="tag in allTags"
                            class="modern-tag-button"
                            ng-click="onClickingTheTag(tag)"
                            ng-disabled="disableTagButton(tag)">
                        {{tag.name}}
                    </button>
                </div>
            </div>

            <div class="modern-modal-section">
                <tags-input ng-model="values" display-property="name"
                            ng-blur="removeFreeTextItem()"
                            key-property="name"
                            ng-init="focusOnTheTest()"
                            on-tag-added="addItem($tag)"
                            on-tag-removed="removeItem($tag)"
                            add-from-autocomplete-only="true"
                            replace-spaces-with-dashes="false"
                            placeholder="{{'ADD_A_TAG_KEY' | translate}}">
                    <auto-complete source="search($query)" min-length="2"></auto-complete>
                </tags-input>
            </div>
        </div>

        <div class="modern-modal-footer">
            <button class="modern-button modern-button-primary" ng-click="updateTagsForTheSelectedBed()">{{'UPDATE_KEY' | translate}}</button>
            <button class="modern-button modern-button-secondary" ng-click="cancelConfirmationDialog()">{{'CANCEL_KEY' | translate}}</button>
        </div>
    </div>
</div>
